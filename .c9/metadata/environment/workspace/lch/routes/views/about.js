{"filter":false,"title":"about.js","tooltip":"/workspace/lch/routes/views/about.js","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":35,"column":14},"end":{"row":35,"column":21},"action":"remove","lines":["contact"],"id":2},{"start":{"row":35,"column":14},"end":{"row":35,"column":15},"action":"insert","lines":["a"]}],[{"start":{"row":35,"column":15},"end":{"row":35,"column":16},"action":"insert","lines":["b"],"id":3}],[{"start":{"row":35,"column":16},"end":{"row":35,"column":17},"action":"insert","lines":["o"],"id":4}],[{"start":{"row":35,"column":17},"end":{"row":35,"column":18},"action":"insert","lines":["u"],"id":5}],[{"start":{"row":35,"column":18},"end":{"row":35,"column":19},"action":"insert","lines":["t"],"id":6}],[{"start":{"row":9,"column":19},"end":{"row":9,"column":26},"action":"remove","lines":["contact"],"id":7},{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"insert","lines":["a"]}],[{"start":{"row":9,"column":20},"end":{"row":9,"column":21},"action":"insert","lines":["b"],"id":8}],[{"start":{"row":9,"column":21},"end":{"row":9,"column":22},"action":"insert","lines":["o"],"id":9}],[{"start":{"row":9,"column":22},"end":{"row":9,"column":23},"action":"insert","lines":["u"],"id":10}],[{"start":{"row":9,"column":23},"end":{"row":9,"column":24},"action":"insert","lines":["t"],"id":11}],[{"start":{"row":10,"column":0},"end":{"row":33,"column":4},"action":"remove","lines":["\tlocals.enquiryTypes = Enquiry.fields.enquiryType.ops;","\tlocals.formData = req.body || {};","\tlocals.validationErrors = {};","\tlocals.enquirySubmitted = false;","","\t// On POST requests, add the Enquiry item to the database","\tview.on('post', { action: 'contact' }, function (next) {","","\t\tvar newEnquiry = new Enquiry.model();","\t\tvar updater = newEnquiry.getUpdateHandler(req);","","\t\tupdater.process(req.body, {","\t\t\tflashErrors: true,","\t\t\tfields: 'name, email, phone, enquiryType, message',","\t\t\terrorMessage: 'There was a problem submitting your enquiry:',","\t\t}, function (err) {","\t\t\tif (err) {","\t\t\t\tlocals.validationErrors = err.errors;","\t\t\t} else {","\t\t\t\tlocals.enquirySubmitted = true;","\t\t\t}","\t\t\tnext();","\t\t});","\t});"],"id":12}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":0},"end":{"row":10,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":28,"mode":"ace/mode/javascript"}},"timestamp":1519051169901,"hash":"12a200c72b65edb6606914d3ca29f4afe5699396"}